# Sync Configuration
# This config is for syncing shows from a remote recording server to local PostgreSQL databases

# Required: Configuration type (must be 'receiver')
config_type = 'receiver'

# Required: URL of remote recording server
remote_url = 'http://private.hpmp.net:17000'

# Optional: whitelist show names to sync (array)
#shows = ['am1430', 'knx_news']

# Optional: Chunk size for batch fetching segments (default: 100)
chunk_size = 100

# Optional: HTTP server port for receiver mode (default: 18000)
port = 18000

# Optional: Seconds between automatic syncs (default: 60)
sync_interval_seconds = 60

[[shows]]
name = 'knx_news'
retention_hours = 24  # Keep 1 day, skip syncing older data

# PostgreSQL database configuration
[database]
# Required: PostgreSQL connection URL (without password)
# Format: postgres://user@host:port
url = 'postgres://postgres@localhost:5432'

# Required: Credential profile name
# Password is stored in ~/.config/save_audio_stream/credentials.toml
# under [postgres.<profile>] section
credential_profile = 'pg-local'

# Optional: Database name prefix (default: 'show')
# Database names follow the pattern: save_audio_{prefix}_{show_name}
# Example with prefix='remote' and show='am1430' â†’ database 'save_audio_remote_am1430'
prefix = 'remote'
