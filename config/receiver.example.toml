# Receiver Configuration Example
# Syncs recordings from a remote server to local PostgreSQL databases

config_type = 'receiver'

# Required: URL of remote recording server
remote_url = 'http://recording-server:17000'

# Optional global settings
chunk_size = 100             # Batch size for fetching segments
port = 18000                 # HTTP server port for web UI
sync_interval_seconds = 60   # Seconds between automatic syncs

# Per-show configuration with optional retention
# When retention_hours is set:
#   - Sync skips fetching segments older than retention period (saves bandwidth)
#   - After sync, deletes local sections older than retention (saves disk)
#   - Keeps at least one complete section at boundary (minimum retention)
#
# Omit [[shows]] entirely to sync all shows from remote without retention limits.

[[shows]]
name = 'show1'
retention_hours = 168  # Keep 1 week, skip syncing older data

[[shows]]
name = 'show2'
# No retention_hours = keep forever, sync all available data

# PostgreSQL database configuration
[database]
url = 'postgres://user@localhost:5432'  # Connection URL (without password)
credential_profile = 'my-postgres'       # Profile in credentials.toml [postgres.<profile>]
#prefix = 'show'                         # Database name prefix (default: 'show')
                                         # Database names: save_audio_{prefix}_{show_name}
