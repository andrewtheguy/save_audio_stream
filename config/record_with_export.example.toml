# Recording Configuration with Export
#
# This example shows how to configure audio export to SFTP or local files.
# Exports are triggered via API: /api/sync/shows/{name}/sections/{id}/export

config_type = 'record'
output_dir = './recordings'
api_port = 17000

# Export configuration
# Controls how recorded audio sections can be exported as complete audio files
[export]
to_sftp = true        # true: upload to SFTP server ([sftp] section required)
                      # false: save to local file in output_dir
periodically = true   # true: auto-export new sections every hour
                      # false: export only when requested via API

# SFTP server configuration (required when export.to_sftp = true)
# Exports stream directly to SFTP without creating local temp files
[sftp]
host = 'sftp.example.com'
port = 22
username = 'uploader'
credential_profile = 'my-sftp-server'  # Profile in credentials.toml [sftp.<profile>]
remote_dir = '/uploads/radio'

[[sessions]]
url = 'https://stream.example.com/radio'
name = 'myradio'
audio_format = 'opus'
split_interval = 300

[sessions.schedule]
record_start = '14:00'
record_end = '16:00'
